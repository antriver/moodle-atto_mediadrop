YUI.add("moodle-atto_mediadrop-button",function(e,t){e.namespace("M.atto_mediadrop").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{_dialogue:!1,initializer:function(){this.addButton({icon:"icon",iconComponent:"atto_mediadrop",callback:this._displayDialogue});var e=this;document.addEventListener("atto_mediadrop_video_chosen",function(t){e._dialogue.hide(),e._insertContent(t.detail.url,t.detail.title)})},_displayDialogue:function(){this._dialogue=this.getDialogue({headerContent:"MediaDrop",width:"800px",focusAfterHide:!0});var t=e.Node.create("<iframe></iframe>");t.setStyles({height:"600px",border:"none",width:"100%"}),t.setAttribute("src",this._getIframeURL()),this._dialogue.set("bodyContent",t).show()},_getIframeURL:function(){return M.cfg.wwwroot+"/lib/editor/atto/plugins/mediadrop/popup/"},_insertContent:function(e,t){var n='<a href="'+e+'">'+t+"</a>";this.editor.focus(),this.get("host").insertContentAtFocusPoint(n),this.markUpdated()}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
